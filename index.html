<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Priston Tale - Informa√ß√µes dos Bosses</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Portal completo com hor√°rios, drops e localiza√ß√£o dos bosses do Priston Tale">
    <meta name="theme-color" content="#4CAF50">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="PT Bosses">
    <meta name="msapplication-TileColor" content="#4CAF50">
    <meta name="msapplication-config" content="/browserconfig.xml">
    
    <!-- PWA Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="img/bosses/miniaturas/mini_valento.webp">
    <link rel="icon" type="image/png" sizes="32x32" href="img/bosses/miniaturas/mini_babel.webp">
    <link rel="icon" type="image/png" sizes="16x16" href="img/bosses/miniaturas/mini_kelvezu.webp">
    <!-- <link rel="manifest" href="/manifest.json"> --> <!-- Desabilitado para desenvolvimento local -->
    <link rel="mask-icon" href="img/bosses/miniaturas/mini_yagditha.webp" color="#4CAF50">
    
    <!-- Google AdSense -->
    <meta name="google-adsense-account" content="ca-pub-XXXXXXXXXXXXXXXX">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css?v=1757449686">
</head>
<body>

<!-- Profile Controls -->
<div class="theme-controls">
    <button class="profile-toggle" onclick="toggleProfilePanel()" title="Perfil do Usu√°rio">üë§</button>
    <button class="favorites-toggle" id="favorites-toggle" onclick="toggleFavoritesFilter()" title="Mostrar Favoritos">‚≠ê</button>
</div>

<!-- Profile Panel -->
<div class="profile-panel" id="profile-panel">
    <div class="profile-content">
        <h3>üë§ Perfil do Usu√°rio</h3>
        <div class="profile-stats">
            <div class="stat-item">
                <label>Bosses Favoritos:</label>
                <span id="favorites-count">0</span>
            </div>
            <div class="stat-item">
                <label>Notifica√ß√µes:</label>
                <span id="notification-status">Desabilitadas</span>
            </div>
        </div>
        <div class="profile-actions">
            <button onclick="testNotification()" class="action-btn">üîî Testar Notifica√ß√£o</button>
            <button onclick="exportProfile()" class="action-btn">ÔøΩÔøΩ Exportar Configura√ß√µes</button>
            <button onclick="importProfile()" class="action-btn">ÔøΩÔøΩ Importar Configura√ß√µes</button>
            <button onclick="clearProfile()" class="action-btn danger">üóëÔ∏è Limpar Dados</button>
        </div>
        <button class="close-panel" onclick="toggleProfilePanel()">‚ùå</button>
    </div>
</div>

<!-- Layout Principal com Sidebars -->
<div class="main-layout">
    <!-- Sidebar Esquerda - AdSense -->
    <aside class="left-sidebar">
        <div class="sidebar-content">
            <!-- An√∫ncio 1 -->
            <div class="adsense-container sidebar-ad">
                <div class="ad-placeholder">
                    <!-- Aqui vai seu c√≥digo do AdSense -->
                    <div class="ad-placeholder-sidebar">
                        <p>üì¢ AdSense 1</p>
                        <p>160x600</p>
                    </div>
                </div>
            </div>
            
            <!-- An√∫ncio 2 -->
            <div class="adsense-container sidebar-ad">
                <div class="ad-placeholder">
                    <!-- Aqui vai seu c√≥digo do AdSense -->
                    <div class="ad-placeholder-sidebar">
                        <p>üì¢ AdSense 2</p>
                        <p>300x250</p>
                    </div>
                </div>
            </div>
        </div>
    </aside>

    <!-- Conte√∫do Principal -->
    <main class="main-content">
        <div class="container">
            <h1>Portal de Informa√ß√µes Priston Tale</h1>
            <p id="current-time"></p>
            
            <!-- PWA Install Banner -->
            <div class="pwa-install-banner" id="pwa-banner" style="display: none;">
                <div class="pwa-content">
                    <div class="pwa-icon">üì±</div>
                    <div class="pwa-text">
                        <strong>Instalar App</strong>
                        <p>Adicione o Portal PT √† sua tela inicial para acesso r√°pido!</p>
                    </div>
                    <button class="pwa-install-btn" id="pwa-install-btn">Instalar</button>
                    <button class="pwa-dismiss-btn" onclick="dismissPWABanner()">‚úï</button>
                </div>
            </div>

            <!-- Navigation Menu -->
            <div class="nav-container">
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="bosses" onclick="switchTab('bosses')">üêâ Bosses</button>
                    <button class="nav-tab" data-tab="events" onclick="switchTab('events')">üéØ Eventos</button>
                    <button class="nav-tab" data-tab="relics" onclick="switchTab('relics')">üíé Rel√≠quia</button>
                    <button class="nav-tab" data-tab="sort" onclick="switchTab('sort')">üçÄ Sorteio</button>
                    <!-- <button class="nav-tab" onclick="switchTab('agecalc')">üìà Age Calc</button>  -->
                    <button class="nav-tab" data-tab="attwill" onclick="switchTab('attwill')">üîÆ Futuro</button>
                </div>
            </div>

            <!-- Bosses Tab Content -->
            <div id="bosses-content" class="tab-content active">
                <div class="controls-container">
                    <div class="controls">
                        <div class="control-group">
                            <label for="filter-select">Filtro de Item:</label>
                            <select id="filter-select">
                                <option value="all">Todos os Itens</option>
                                <option value="Receita de Rel√≠quias">Receita de Rel√≠quias</option>
                                <option value="Anel do Valento">Anel do Valento</option>
                                <option value="Colar do Kelvezu">Colar do Kelvezu</option>
                                <option value="Botas do Mokova">Botas do Mokova</option>
                                <option value="Anel Shy">Anel Shy</option>
                                <option value="Amuleto Tulla">Amuleto Tulla</option>
                                <option value="Botas do Draxos">Botas do Draxos</option>
                                <option value="Luvas do Greedy">Luvas do Greedy</option>
                                <option value="Amuleto do Yagditha">Amuleto do Yagditha</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="time-filter-select">Filtro por Hor√°rio:</label>
                            <select id="time-filter-select">
                                <option value="all">Todos os Hor√°rios</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="sort-select">Ordena√ß√£o:</label>
                            <select id="sort-select">
                                <option value="next-spawn">Hor√°rio de Pr√≥xima Apari√ß√£o</option>
                                <option value="Receita de Rel√≠quias">Receita de Rel√≠quias</option>
                                <option value="Anel do Valento">Anel do Valento</option>
                                <option value="Colar do Kelvezu">Colar do Kelvezu</option>
                                <option value="Botas do Mokova">Botas do Mokova</option>
                                <option value="Anel Shy">Anel Shy</option>
                                <option value="Amuleto Tulla">Amuleto Tulla</option>
                                <option value="Botas do Draxos">Botas do Draxos</option>
                                <option value="Luvas do Greedy">Luvas do Greedy</option>
                                <option value="Amuleto do Yagditha">Amuleto do Yagditha</option>
                            </select>
                        </div>
                    </div>
                    <div class="server-column">
                        <div class="server-name">IDHAS</div>
                        <div class="subservers-container" id="subservers-container">
                        </div>
                    </div>
                </div>
                
                <div id="bosses-container"></div>
            </div>

            <!-- Fixed Timer Section (only visible on large screens) -->
            <div class="timer-section" id="timer-section">
                <div class="timer-controls">
                    <button class="timer-toggle" id="pin-toggle" onclick="toggleScrollFade()" title="Fixar/Desfixar">üìå</button>
                    <button class="settings-toggle" onclick="toggleSettings()" title="Configura√ß√µes">‚öôÔ∏è</button>
                    <button class="settings-toggle" onclick="showHelpModal()" title="Ajuda - O que cada controle faz">‚ùì</button>
                </div>
                <h3>‚è∞ Pr√≥ximo Boss</h3>
                <div class="next-boss-info" id="next-boss-info">
                    <div class="next-boss-name" id="next-boss-name">Carregando...</div>
                    <div class="next-boss-location" id="next-boss-location">üìç Carregando...</div>
                    <div class="countdown-timer" id="countdown-timer">--:--:--</div>
                </div>
                
                <div class="notification-controls" id="notification-controls">
                    <h4>üîî Notifica√ß√µes</h4>
                    <div class="sound-control">
                        <label>Som:</label>
                        <button class="sound-toggle-btn" id="sound-toggle" onclick="toggleSound()">üîá OFF</button>
                    </div>
                    <div class="sound-control">
                        <label>Tipo:</label>
                        <select class="sound-select" id="sound-type-select" onchange="changeSoundType()">
                            <option value="beep">üéµ Beep</option>
                            <option value="chime">üîî Chime</option>
                            <option value="alert">üö® Alert</option>
                            <option value="bell">üîî Bell</option>
                            <option value="horn">üìØ Horn</option>
                            <option value="whistle">ÔøΩÔøΩ Whistle</option>
                        </select>
                    </div>
                    <div class="sound-control">
                        <label>Aviso:</label>
                        <button class="sound-toggle-btn" id="early-warning-toggle" onclick="toggleEarlyWarning()">‚ö†Ô∏è OFF</button>
                    </div>
                    <div class="sound-control">
                        <label>Vol:</label>
                        <div class="volume-control">
                            <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="50" onchange="updateVolume()">
                            <span class="volume-display" id="volume-display">50%</span>
                        </div>
                    </div>
                    <div class="sound-control">
                        <label>Notif:</label>
                        <button class="sound-toggle-btn" id="notification-toggle" onclick="toggleNotifications()">üîî OFF</button>
                    </div>
                        <div class="sound-control">
                            <label>Notificar apenas bosses favoritos:</label>
                            <input type="checkbox" id="notify-favorites-toggle" onchange="toggleNotifyOnlyFavorites()">
                    </div>
                </div>
            </div>

            <!-- Events Tab Content -->
            <div id="events-content" class="tab-content">
                <div class="event-card">
                    <div class="event-header">
                        <img src="img/bosses/maps/vale-tranquilo.png" alt="Cientista Marie - Vale Tranquilo" class="event-spawn-img">
                        <div>
                            <h2>Cientista Marie</h2>
                            <p style="color: #90ee90; font-size: 1.1em; margin: 5px 0;">üìç Vale Tranquilo i6 (Cachoeira)</p>
                        </div>
                    </div>
                    
                    <div class="event-info">
                        <div class="event-answers">
                            <h3>‚úÖ Respostas (Nessa ordem):</h3>
                            <div class="answer-item">1¬∞ - Pedra Idetas</div>
                            <div class="answer-item">2¬∞ - Gold</div>
                            <div class="answer-item">3¬∞ - Mago</div>
                            <div class="answer-item">4¬∞ - T√¥nico Capilar</div>
                        </div>
                        
                        <div class="event-location">
                            <h4>üìã Informa√ß√µes Importantes:</h4>
                            <div class="location-info">
                                ‚Ä¢ A recompensa ir√° para o seu distribuidor, abra a recompensa e voc√™ ganhar√° outra recompensa.
                            </div>
                            <div class="location-info">
                                ‚Ä¢ Para trocar a engrenagem e a prece, v√° at√© o quadrante D5 (Rind Violenta), na cidade de Pillai (qualquer sub-servidor).
                            </div>
                            <div class="frequency-info">
                                üïê Frequ√™ncia: 1 vez ao dia
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Relics Tab Content -->
            <div id="relics-content" class="tab-content">
                <div class="event-card">
                    <div class="event-header">
                            <h2>Rel√≠quia</h2>
                            <p style="color: #90ee90; font-size: 1.1em; margin: 5px 0;">üìçPillai(G-7) verificar suas rel√≠quias</p>
                        
                    </div>
                    
                    <div class="event-info">
                        <div class="relics-images">
                            <img src="img/reliquia/remix.jpg" alt="Rel√≠quia Remix" >
                        </div>
                        <h3 style="text-align: center; color: var(--text-accent);">üîÑ Vers√£o de como √© dentro do Jogo</h3> 
                        <div class="event-answers">
                            <img src="img/reliquia/original.jpg" alt="Rel√≠quia Original" >
                        </div>
                    </div>
                </div>
            </div>

            <!-- Road Map Tab Content -->
            <div id="attwill-content" class="tab-content">
                <div class="sort-card future-updates-card">
                    <div style="text-align: center; padding: 20px; color: #4CAF50;">
                        <h3>üöÄ Em Desenvolvimento</h3>
                        <p style="color: #90ee90; margin-bottom: 15px;">Pr√≥ximas funcionalidades que ser√£o implementadas:</p>
                        <div style="text-align: left; max-width: 500px; margin: 0 auto;">
                            <div class="future-item">
                                üì§ <strong>Compartilhamento:</strong> Compartilhe hor√°rios espec√≠ficos com amigos
                            </div>
                            <div class="future-item">
                                üì§ <strong>Age Calc:</strong> √© uma calculadora de "aging" que permite aos jogadores prever o resultado de aumentar os atributos de um item ("Aging") ou calcular os atributos originais de um item com "aging" para verificar se √© "perfeito". Essas ferramentas s√£o √∫teis para simular os efeitos do processo de "Aging" em armas e armaduras, levando em conta os diferentes status como defesa, ataque, cr√≠tico, e bloqueio, com a possibilidade de incluir a fun√ß√£o "Despertado".  
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sort Tab Content -->
            <div id="sort-content" class="tab-content">
                <div class="sort-card">
                    <div class="sort-info">
                        <div class="sort-card">
                            <div class="lottery-container">
                                <form class="lottery-form" id="lottery-form">
                                    <div class="lottery-text">
                                        Sortear 
                                        <input type="number" id="quantity" min="1" max="100" value="1" class="lottery-input">
                                        n√∫mero
                                        <div class="range-section">
                                            entre 
                                            <input type="number" id="min-range" min="0" max="999999" value="1" class="lottery-input range-input">
                                            e 
                                            <input type="number" id="max-range" min="1" max="999999" value="100" class="lottery-input range-input">
                                        </div>
                                    </div>

                                    <div class="options-section">
                                        <button type="button" class="options-toggle" onclick="toggleLotteryOptions()">
                                            <span>Op√ß√µes do Sorteio</span>
                                            <span class="arrow">‚ñº</span>
                                        </button>
                                        
                                        <div class="options-content" id="lottery-options" style="display: none;">
                                            <label class="option-item">
                                                <input type="checkbox" id="allow-repeats" checked>
                                                Permitir n√∫meros repetidos
                                            </label>
                                            <label class="option-item">
                                                <input type="checkbox" id="sort-results">
                                                Ordenar resultados
                                            </label>
                                        </div>
                                    </div>

                                    <button type="submit" class="lottery-button">
                                        SORTEAR AGORA!
                                    </button>
                                </form>

                                <div class="lottery-results" id="lottery-results" style="display: none;">
                                    <h3>Resultado do Sorteio</h3>
                                    <div class="results-display" id="results-display"></div>
                                    <div class="results-actions">
                                        <button type="button" onclick="copyResults()">Copiar</button>
                                        <button type="button" onclick="newDraw()">Novo Sorteio</button>
                                    </div>
                                    <div class="draw-info">
                                        <small>Sorteado em: <span id="draw-time"></span></small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Placeholder for future social features -->
                
            </div>    

            <!-- AdSense Banner Final -->
            <div class="adsense-container bottom-ad">
                <div class="ad-placeholder">
                    <!-- Aqui vai seu c√≥digo do AdSense -->
                    <div class="ad-placeholder-banner">
                        <p>üì¢ AdSense Banner</p>
                        <p style="font-size: 0.8em;">Espa√ßo para an√∫ncio horizontal</p>
                        <p style="font-size: 0.7em;">728x90 ou 320x50 (mobile)</p>
                    </div>
                </div>
            </div>

            <a href="https://wa.me/55067996456868" class="whatsapp-float" target="_blank" aria-label="Fale no WhatsApp">
                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" />
            </a>
        </div>
    </main>

    <!-- Sidebar Direita - AdSense -->
    <aside class="right-sidebar">
        <div class="sidebar-content">
            <!-- An√∫ncio 3 -->
            <div class="adsense-container sidebar-ad">
                <div class="ad-placeholder">
                    <!-- Aqui vai seu c√≥digo do AdSense -->
                    <div class="ad-placeholder-sidebar">
                        <p>üì¢ AdSense 3</p>
                        <p>300x250</p>
                    </div>
                </div>
            </div>
            
            <!-- An√∫ncio 4 -->
            <div class="adsense-container sidebar-ad">
                <div class="ad-placeholder">
                    <!-- Aqui vai seu c√≥digo do AdSense -->
                    <div class="ad-placeholder-sidebar">
                        <p>üì¢ AdSense 4</p>
                        <p>160x600</p>
                    </div>
                </div>
            </div>
        </div>
    </aside>
</div>

<!-- Help Modal -->
<div class="help-modal-overlay" id="help-modal-overlay" onclick="closeHelpModal()">
    <div class="help-modal" onclick="event.stopPropagation()">
        <button class="help-close" onclick="closeHelpModal()">‚úï</button>
        <h3>‚ùì Guia dos Controles de Notifica√ß√£o</h3>
        

        <div class="help-section">
            <h4>üîä Som</h4>
            <p><strong>O que faz:</strong> Toca um √°udio no navegador quando o boss est√° chegando.</p>
            <p><strong>Quando toca:</strong> 1 minuto antes e no exato momento em que o boss nasce.</p>
            <p><strong>Requisito:</strong> Voc√™ precisa estar com a aba aberta para ouvir o som.</p>
        </div>

        <div class="help-section">
            <h4>‚ö†Ô∏è Aviso</h4>
            <p><strong>O que faz:</strong> Ativa um alerta antecipado de 5 minutos antes do boss nascer.</p>
            <p><strong>Quando dispara:</strong> 5 minutos antes do boss aparecer.</p>
            <p><strong>Som especial:</strong> Toca um som tipo "chime" (diferente do som normal).</p>
            <p><strong>Combinado com:</strong> Tamb√©m envia notifica√ß√£o visual (se "Notif" estiver ativado).</p>
        </div>

        <div class="help-section">
            <h4>üîî Notif</h4>
            <p><strong>O que faz:</strong> Mostra notifica√ß√£o visual do sistema operacional (Windows/Mac/Linux).</p>
            <p><strong>Funciona:</strong> Mesmo quando voc√™ est√° em outra aba ou aplicativo.</p>
            <p><strong>Permiss√£o:</strong> √â necess√°rio permitir notifica√ß√µes no navegador.</p>
        </div>

        <div class="help-section">
            <h4>‚≠ê Notificar apenas bosses favoritos</h4>
            <p><strong>O que faz:</strong> Se ativado, voc√™ s√≥ recebe notifica√ß√µes dos bosses que voc√™ favoritou (estrela amarela na lista de bosses).</p>
            <p><strong>Se desativado:</strong> Voc√™ recebe notifica√ß√µes de todos os bosses normalmente.</p>
            <p><strong>Persist√™ncia:</strong> Sua escolha √© salva no perfil e mantida ao recarregar a p√°gina.</p>
        </div>

        <div class="help-section">
            <h4>üéµ Tipo</h4>
            <p><strong>O que faz:</strong> Escolhe o estilo de som que ser√° tocado.</p>
            <p><strong>Op√ß√µes:</strong> Beep, Chime, Alert, Bell, Horn, Whistle.</p>
        </div>

        <div class="help-section">
            <h4>üîä Vol</h4>
            <p><strong>O que faz:</strong> Controla o volume do som (0% a 100%).</p>
        </div>

        <div class="help-timeline">
            <h4 style="color: var(--text-accent); text-align: center; margin-bottom: 15px;">üìÖ Timeline de Notifica√ß√µes</h4>
            <div class="help-timeline-item">
                <span class="help-timeline-icon">‚ö†Ô∏è</span>
                <div>
                    <strong>5 minutos antes</strong> (se "Aviso" = ON)<br>
                    üîä Som: Chime + üîî Notifica√ß√£o visual (se "Notif" = ON e dentro das regras de favoritos)
                </div>
            </div>
            <div class="help-timeline-item">
                <span class="help-timeline-icon">üö®</span>
                <div>
                    <strong>1 minuto antes</strong> (se "Som" = ON)<br>
                    üîä Som: Alert + üîî Notifica√ß√£o visual (se "Notif" = ON e dentro das regras de favoritos)
                </div>
            </div>
            <div class="help-timeline-item">
                <span class="help-timeline-icon">üêâ</span>
                <div>
                    <strong>Boss nasce</strong> (se "Som" = ON)<br>
                    ÔøΩÔøΩ Som: Alert + üîî Notifica√ß√£o visual (se "Notif" = ON e dentro das regras de favoritos)<br>
                </div>
            </div>
        </div>

        <div class="help-tip">
            üí° <strong>Dica:</strong> Para receber notifica√ß√µes mesmo fora da aba, ative "üîî Notif" e permita notifica√ß√µes no navegador!
        </div>

        <div class="help-example">
            <strong>Configura√ß√£o recomendada:</strong><br>
            üîä Som: ON | ‚ö†Ô∏è Aviso: ON | üîî Notif: ON<br>
            = M√°ximo de alertas para n√£o perder nenhum boss!
        </div>
    </div>
</div>

<!-- Scripts -->
<script type="module" src="js/main.js"></script>


<script>
// For√ßa o posicionamento do timer-section
document.addEventListener('DOMContentLoaded', function() {
    const timerSection = document.getElementById('timer-section');
    if (timerSection) {
        // For√ßa o posicionamento via JavaScript
        timerSection.style.position = 'fixed';
        timerSection.style.top = '20px';
        timerSection.style.right = '20px';
        timerSection.style.zIndex = '1000';
        timerSection.style.width = '200px';
        timerSection.style.backgroundColor = 'rgba(30, 30, 30, 0.95)';
        timerSection.style.border = '2px solid #4CAF50';
        timerSection.style.borderRadius = '8px';
        timerSection.style.padding = '15px';
        timerSection.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.2)';
        timerSection.style.backdropFilter = 'blur(5px)';
        timerSection.style.transform = 'scale(0.85)';
        timerSection.style.opacity = '0.4';
        timerSection.style.transition = 'all 0.3s ease';
        
        console.log('‚úÖ Timer-section posicionado via JavaScript!');
        
        // Adiciona hover effect
        timerSection.addEventListener('mouseenter', function() {
            this.style.opacity = '1';
            this.style.transform = 'scale(1)';
            this.style.width = '280px';
            this.style.padding = '15px';
        });
        
        timerSection.addEventListener('mouseleave', function() {
            this.style.opacity = '0.4';
            this.style.transform = 'scale(0.85)';
            this.style.width = '200px';
            this.style.padding = '15px';
        });
    }
});
</script>

</body>
</html>
